(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-price-list"],{"048e":function(t,e,i){"use strict";var a=i("f5bd").default,n=a(i("9b8e"));n.default.directive("watermark",(function(t,e){var i=e.value.text,a=e.value.font||"15px Microsoft JhengHei",n=e.value.textColor||"rgba(215, 215, 215, 0.2)",s=e.value.width||150,o=e.value.height||150,l=e.value.textRotate||-30;(function(t){var e=document.createElement("canvas");t.appendChild(e),e.width=s,e.height=o,e.style.display="none";var c=e.getContext("2d");c.rotate(l*Math.PI/180),c.font=a,c.fillStyle=n,c.textAlign="left",c.textBaseline="Middle",c.fillText(i,0,e.height),t.style.backgroundImage="url("+e.toDataURL("image/png")+")"})(t)}))},"0f7b":function(t,e,i){"use strict";i.r(e);var a=i("9d19"),n=i("cec3");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var o=i("828b"),l=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=l.exports},3497:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("5c47"),i("a1c1"),i("dd2b");a(i("048e"));var n={data:function(){return{isread:!1,userInfo:{},datatemp:{},watermarkConfig:{text:"中集世倡0001",font:"12px 微软雅黑",textColor:"#dcdfe6",width:210,height:80},pricelist:[],feelist:{}}},created:function(){var t=this,e=uni.getStorageSync("islogin"),i=uni.getStorageSync("dd_user");if(e&&i){this.watermarkConfig.text=i.data.data.name+i.data.data.mobile.substring(7,11),uni.showLoading({title:"加载中",mask:!0}),uni.request({url:"http://39.108.229.3:8080/port/log",data:{pol:this.datatemp.pol,pod:this.datatemp.pod,inputer:i.data.data.name,inputerDept:""},method:"GET",success:function(t){},fail:function(t){}});var a="";if(3==this.datatemp.pricetype.length){var n=this.datatemp.pricetype.join(",").split(",");a="'"+n[0]+"','"+n[1]+"','"+n[2]+"'"}else a="'"+this.datatemp.pricetype.join(",").replace(",","','")+"'";this.$H.get("/scp/edi/api?method=fcllist&pol="+this.datatemp.pol+"&pod="+this.datatemp.pod+"&crrier="+this.datatemp.carrier+"&pricetype="+a,{},{"content-type":"text/html;charset=utf-8"}).then((function(e){t.isread=!0,setTimeout((function(){uni.hideLoading()}),300),e.data.length>0?t.pricelist=e.data.splice(0,25):t.pricelist=[]})).catch((function(t){uni.showToast({title:"失败："+t.message,icon:"none"})}))}else uni.reLaunch({url:"/pages/price/error"})},methods:{backToNext:function(){uni.navigateBack({delta:1})},submitBook:function(t){uni.setStorageSync("booking",t),uni.navigateTo({url:"/pages/price/booking",fail:function(t){console.log(t)}})},timeFormat:function(t){var e=t.split("-");return e[0]+"/"+e[1]+"/"+e[2]},startType:function(t){return"CLS"==t?"大船截关":"BETD"==t?"大船驳船ON BOARD":"ETD"==t?"大船ON BOARD":"TDETD"==t?"提单ON BOARD":"BCETD"==t||"ONBOARD"==t?"驳船ON BOARD":"SOETD"==t?"SO ETD":"GATE"==t?"GATE IN":""},checkDetail:function(t){uni.setStorageSync("detail",t),uni.navigateTo({url:"/pages/price/detail",fail:function(t){console.log(t)}})},onLoad:function(t){this.datatemp=uni.getStorageSync("list_detail"),this.datatemp||(uni.showToast({title:"请输入起运港-目的港口查询",icon:"none"}),uni.navigateTo({url:"/pages/price/index",fail:function(t){console.log(t)}}))}}};e.default=n},"9d19":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={uIcon:i("bca7").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"flex flex-column",staticStyle:{height:"100%"}},[i("v-uni-view",{staticClass:"flex-1"},[t._l(t.pricelist,(function(e,a){return t.pricelist.length>0&&t.isread?[i("v-uni-view",{directives:[{name:"watermark",rawName:"v-watermark",value:t.watermarkConfig,expression:"watermarkConfig"}],key:a+"_0",staticClass:"bg-white m-1 px-2 rounded-half py-2 font-sm",staticStyle:{"box-shadow":"rgb(0 0 0 / 15%) 0px 0px 3px 1px"}},[i("v-uni-view",{staticClass:"flex justify-center font-md",staticStyle:{"justify-content":"space-between"}},[i("b",{staticClass:"text-green"},[t._v(t._s(e.pol))]),i("v-uni-text",[i("u-icon",{attrs:{name:"../../static/icon/right_arrow.png",size:55}})],1),i("b",{staticClass:"text-green"},[t._v(t._s(e.pod))]),i("v-uni-text",{},[i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submitBook(e)}}},[t._v("订舱")])],1)],1),i("v-uni-view",{staticStyle:{"border-bottom":"1px solid #e5e5e5","margin-bottom":"10rpx"}}),i("v-uni-view",{staticClass:"fontSizeMy pr-1 rounded-s",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkDetail(e)}}},[i("v-uni-view",{staticClass:"flex justify-between"},[i("v-uni-view",{staticStyle:{width:"40%"}},[i("v-uni-text",{staticClass:"text-gray font-sm"},[t._v("运价类型：")]),i("v-uni-text",{staticClass:"font-weight-bold text-red font-sm"},[i("b",{staticClass:"text-red"},[t._v(t._s(null==e.pricetype?"--":e.pricetype)),e.ispush?i("v-uni-text",[i("u-icon",{attrs:{name:"../../static/icon/flag.png",size:25}}),t._v(t._s(1==e.ispush?"[主推]":""))],1):t._e()],1)])],1),i("v-uni-view",{staticStyle:{width:"60%"}},[i("v-uni-text",{staticClass:"text-gray font-sm"},[t._v("运价：")]),i("v-uni-text",{staticClass:"font-weight-bold text-red font-sm"},[i("b",{staticClass:"text-green"},[t._v(t._s(e.bargecurrency))]),t._v(t._s(e.cost20)+"/"+t._s(e.cost40gp)+"/"+t._s(e.cost40hq)+"/"+t._s(e.cost45hq))])],1)],1),i("v-uni-view",{staticClass:"flex justify-between"},[i("v-uni-view",{},[i("v-uni-text",{staticClass:"text-gray font-sm"},[t._v("有效期：")]),""!=e.typestart?i("v-uni-text",[t._v("("+t._s(t.startType(e.typestart))+")")]):t._e(),i("v-uni-text",{staticClass:"font-weight-bold text-primary font-sm"},[t._v(t._s(t.timeFormat(e.datefm))+" ~ "+t._s(t.timeFormat(e.dateto)))])],1)],1),i("v-uni-view",{staticClass:"flex justify-between"},[i("v-uni-view",{staticStyle:{width:"40%"}},[i("v-uni-text",{staticClass:"text-gray font-sm"},[t._v("FreeTime：")]),i("v-uni-text",{staticClass:"text-red"},[i("b",[t._v(t._s(null==e.freetime?"--":e.freetime))])])],1),i("v-uni-view",{staticStyle:{width:"30%"}},[i("v-uni-text",{staticClass:"text-gray font-sm"},[t._v("截关：")]),e.schedule?i("v-uni-text",{staticClass:"font-weight-bold text-red"},[i("b",[t._v(t._s(null==e.schedule?"--":e.schedule))])]):t._e()],1),i("v-uni-view",{staticStyle:{width:"30%"}},[i("v-uni-text",{staticClass:"text-gray font-sm"},[t._v("航程：")]),e.tt?i("v-uni-text",{staticClass:"font-weight-bold text-red"},[i("b",[t._v(t._s(e.tt)+"天")])]):t._e()],1)],1),i("v-uni-view",{staticClass:"flex justify-between"},[i("v-uni-view",{staticStyle:{width:"40%"}},[i("v-uni-text",{staticClass:"text-gray font-sm"},[t._v("船公司：")]),i("v-uni-text",[i("b",[t._v(t._s(e.shipping))])])],1),i("v-uni-view",{staticStyle:{width:"30%"}},[i("v-uni-text",{staticClass:"text-gray font-sm"},[t._v("船期：")]),i("v-uni-text",{staticClass:"text-red"},[i("b",[t._v(t._s(e.cls))])])],1),i("v-uni-view",{staticStyle:{width:"30%","text-overflow":"ellipsis",display:"block","white-space":"nowrap",overflow:"hidden"}},[i("v-uni-text",{staticClass:"text-gray font-sm"},[t._v("船名："),i("v-uni-text",{staticStyle:{color:"#000000"}},[i("b",[t._v(t._s(e.vessel))])])],1)],1)],1),i("v-uni-view",{staticClass:"flex justify-between"},[i("v-uni-view",{staticStyle:{"text-overflow":"ellipsis",display:"block","white-space":"nowrap",overflow:"hidden",width:"650rpx"}},[i("v-uni-text",{staticClass:"text-gray font-sm"},[t._v("备注："),i("v-uni-text",[t._v(t._s(e.remark_in))])],1)],1)],1)],1)],1)]:t._e()})),t.pricelist.length<=0&&t.isread?[i("v-uni-view",{staticClass:" bg-white m-1 px-2 rounded-half py-2 font-sm"},[i("v-uni-view",{staticClass:"flex justify-center",staticStyle:{"justify-content":"space-between"}},[t._v("没有查询到运价"),i("br"),t._v("我们会尽快更新运价!!!"),i("v-uni-text",{staticStyle:{display:"flex","align-items":"center"}},[i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backToNext()}}},[t._v("询盘")])],1)],1)],1)]:t._e()],2)],1)},s=[]},cec3:function(t,e,i){"use strict";i.r(e);var a=i("3497"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a}}]);